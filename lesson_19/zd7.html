<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>7_Завдання</title>
  <style>
    .main{
      overflow: hidden;
      position: relative;
    }
    .snowflake{
      position: absolute;
      top: -3;
      left: 1px;
      
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <header class="header"></header>
    <main class="main">

      <!-- ============================ Завданя============================================ -->
      <div class="txt">
        <a href="index.html" class="link">Завдання_7 (Link_поернення на головну)</a>
        <div class="nameLesson">
          Відобразити падаючий сніг. Сніжинка з’являється у верхній частині екрану (top =0) і 
          з випадковою швидкістю рухається вниз (у setInterval викликати метод, у якому додавати крок до top). 
          Як тільки сніжинка досягає нижньої частини екрану (top>maxTop) вона знову повинна з’явитись у верхній 
          частині екрану (top=0).

        </div>
      </div>

      <!-- ================================ HTML ======================================== -->
      <div class="boxDecisionDz">
        
  
      </div>


      
      <!-- ================================ Script ======================================== -->
  <script>
    class snowfall{
      constructor(minStep, maxStep){
          this.minStep = minStep
          this.maxStep = maxStep
      }
      randomSizeSnowflake(){
        return Math.random()
      }
      randomStep(){
        return this.minStep + Math.floor(Math.random() * (this.maxStep - this.minStep + 1))
      }
      createFallSnow(minTop, maxTop){
        let top = minTop
        setInterval(() => {
          top++
          this.snowflake.style.top = top + 'px'
          if(top > maxTop) {
            top = minTop
            this.snowflake.style.left = this.randomStep() + 'px'
            this.snowflake.style.transform = `scale(${this.randomSizeSnowflake()})`
          }
        }, 10);
      }
      render(container){
              this.snowflake = document.createElement('img')
              this.snowflake.setAttribute('src', 'img/snowflake.png')
              this.snowflake.className = 'snowflake'
              this.snowflake.style.transform = `scale(${this.randomSizeSnowflake()})`
              this.snowflake.style.left = this.randomStep() + 'px'
              if(container)
          document.querySelector(container).append(this.snowflake)
          this.createFallSnow(-5, 1000)  
      }
    }
    window.onload = function () {
      let interval =  setInterval(() => {
        let createSnow = new snowfall(40, 2000)
        createSnow.render('.main')
      }, 1000); 
      setTimeout(() => {
        clearInterval(interval)
      }, 50000);
    }
  </script>
    </main>
    <footer class="footer"></footer>
  </div>
</body>
</html>